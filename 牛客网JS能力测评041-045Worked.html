<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>JS能力测评</title>
		<script type="text/javascript">

			// 测试地址 https://www.nowcoder.com/ta/js-assessment
			// 整理by DiracKeeko

			/**
			 *  041 给定字符串 str，检查其是否包含连续重复的字母（a-zA-Z），
			 *  包含返回 true，否则返回 false
			 *
			 * 示例：
			 *  输入：'rattler'
			 *  输出：true
			 */
			/*
			function containsRepeatingLetter(str) {
				var flag = false;
				var reg = /[A-z]/;
				for(var i = 0; i < str.length; i++){
					// 找当前位置的字符在字符串中其他位置的索引
					var n = str.indexOf(str[i], i+1);
					// 如果这个索引n = i+1，那么就紧邻，同时判断还得是字母
					if(n == i+1 && reg.test(str[i])){
						// console.log(str[i]);
						// console.log("n="+n+",i="+i+",reg="+reg.test(str[i]))
						flag = true;
						break;
					}
				}
				return flag;
			}
			 */
			function containsRepeatingLetter(str) {
				// 正则的回溯引用
				var reg = /([A-z])\1/;
				var result = reg.test(str);
				return result;
			}
			// console.log(containsRepeatingLetter('rccatler'));

			/**
			 *  042 给定字符串 str，检查其是否以元音字母结尾
			 *  	1、元音字母包括 a，e，i，o，u，以及对应的大写
					2、包含返回 true，否则返回 false
			 *
			 * 示例：
			 *  输入：'gorilla'
			 *  输出：true
			 */
			function endsWithVowel(str) {
				var reg = /(a|e|i|o|u)$/i;
				return reg.test(str);
			}
			// console.log(endsWithVowel('gorilla'));


			/**
			 *  043 给定字符串 str，检查其是否包含 连续3个数字
			 *  	1、如果包含，返回最新出现的 3 个数字的字符串
					2、如果不包含，返回 false
			 *
			 * 示例：
			 *  输入：'9876543'
			 *  输出：987
			 */
			function captureThreeNumbers(str) {
				var reg = /[0-9]{3}/;
				if(reg.test(str)){
					var str2 = str.match(reg);
					// match()方法的返回结果是一个字符串
					// return str2;
					return str2[0];
				} else {
					return false;
				}
 			}
			// console.log(captureThreeNumbers('9876543'));

			/**
			 *  044 给定字符串 str，检查其是否符合如下格式
			 *  	1、XXX-XXX-XXXX
					2、其中 X 为 Number 类型
			 *
			 * 示例：
			 *  输入：'800-555-1212'
			 *  输出：true
			 */
			function matchesPattern(str) {
				var reg = /^\d{3}-\d{3}-\d{4}$/
				// ^\d{3} - \d{3} - \d{4}$
				return reg.test(str)
 			}
			// console.log(matchesPattern('800-555-1212'));


			/**
			 *  045 给定字符串 str，检查其是否符合美元书写格式
			 *  1、以 $ 开始
				2、整数部分，从个位起，满 3 个数字用 , 分隔
				3、如果为小数，则小数部分长度为 2
				4、正确的格式如：$1,023,032.03 或者 $2.03，
				   错误的格式如：$3,432,12.12 或者 $34,344.3
			 *
			 * 示例：
			 *  输入：'$20,933,209.93'
			 *  输出：true
			 */

			function isUSD(str) {
				// 注意 . 需要转义(\.) 但是 , 不需要转义

			    // var reg = /^\$\d{1,3}(,\d{3})*(\.\d{2})?$/;
				// ^\$  \d{1,3}  (,\d{3})*  (\.\d{2})?$

				// 考虑首位为0的问题
				var reg = /^\$[1-9]\d{0,2}(,\d{3})*(\.\d{2})?$/;
				// ^\$  [1-9]  \d{0,2}  (,\d{3})*  (\.\d{2})?$
				return reg.test(str);
			}
			// console.log(isUSD('$20,933,209.93'));


		</script>

	</head>
	<body>

	</body>
</html>
